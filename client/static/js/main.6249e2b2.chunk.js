(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{47:function(e,n,t){e.exports=t.p+"static/media/burger.0618b56a.jpg"},48:function(e,n,t){e.exports=t.p+"static/media/pizza.83372b56.jpg"},49:function(e,n,t){e.exports=t.p+"static/media/salad.da6e3893.jpg"},50:function(e,n,t){e.exports=t.p+"static/media/drink.1356c22b.jpg"},51:function(e,n,t){e.exports=t.p+"static/media/sushi.569db612.jpg"},52:function(e,n,t){e.exports=t.p+"static/media/wok.78fa2e32.jpg"},53:function(e,n,t){e.exports=t.p+"static/media/promo1.e5027dab.jpeg"},54:function(e,n,t){e.exports=t.p+"static/media/promo2.c7ca400e.jpeg"},55:function(e,n,t){e.exports=t.p+"static/media/promo3.7b5c1e26.jpeg"},59:function(e,n,t){e.exports=t.p+"static/media/logo.4be199a3.svg"},60:function(e,n,t){e.exports=t.p+"static/media/cart-orange.02f2708e.svg"},61:function(e,n,t){e.exports=t.p+"static/media/logo-small.720dc3ff.svg"},62:function(e,n,t){e.exports=t.p+"static/media/bin.4b8e8690.svg"},68:function(e,n,t){e.exports=t(89)},88:function(e,n,t){},89:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(19),i=t.n(c),u=t(9),o=t(11),l=Object(a.createContext)(),s=l.Provider,f=l.Consumer,m=Object(a.createContext)({authenticated:!1,user:null,token:"",obtainToken:function(){},logout:function(){},register:function(){},getUserData:function(){}}),d=m.Provider,p=m.Consumer,b=t(34),g=t.n(b),E=t(44),v=t(28),h=t(21),O=t.n(h),j=window.location.origin,y=t(45),x=t(65),w=t(66),C=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Oops!"),r.a.createElement("p",null,"We have already sent a courier for some more cheese..."),r.a.createElement("p",null,"Visit our ",r.a.createElement(o.b,{to:"/"},"Home page")))},S=function(e){Object(w.a)(t,e);var n=Object(x.a)(t);function t(){var e;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=n.call.apply(n,[this].concat(r))).state={hasError:!1},e}return Object(y.a)(t,[{key:"componentDidCatch",value:function(e,n){this.setState({hasError:!0})}},{key:"render",value:function(){return r.a.createElement(a.Fragment,null,this.state.hasError?r.a.createElement(C,null):this.props.children)}}]),t}(a.Component),k=t(12),T=t(31),z=function(){return function(e){return function(n){return r.a.createElement(f,null,(function(t){return r.a.createElement(e,Object.assign({},n,{pizzaService:t}))}))}}},_=function(){return function(e){return function(n){return r.a.createElement(p,null,(function(t){return r.a.createElement(e,Object.assign({},n,{authContext:t}))}))}}},P=t(47),D=t.n(P),A=t(48),U=t.n(A),M=t(49),I=t.n(M),R=t(50),N=t.n(R),F=t(51),q=t.n(F),H=t(52),L=t.n(H),G=t(53),B=t.n(G),J=t(54),Y=t.n(J),W=t(55),K=t.n(W),V=[{title:"Pizza",type:"pizza",imgUrl:U.a},{title:"Salads",type:"salads",imgUrl:I.a},{title:"Burgers",type:"burgers",imgUrl:D.a},{title:"Sushi",type:"sushi",imgUrl:q.a},{title:"Wok",type:"wok",imgUrl:L.a},{title:"Drinks",type:"drinks",imgUrl:N.a}],$=[{src:B.a,altText:"Promo 1"},{src:Y.a,altText:"Promo 2"},{src:K.a,altText:"Promo 3"}],Q="Pending",X="Success",Z="Failure",ee="Not asked",ne=[{type:"reg",label:"Sign up"},{type:"auth",label:"Sign in"}],te="To make an order you need to sign in.",ae="Order has been created. We sent you an email that you used for registering as a confirmation. It may take several minutes to deliver the email.",re="Order has not been created. Please try again later.",ce="User name or password is not correct. Please check it and try again.",ie="The passwords do not match.",ue="The password length should be at least 4 symbols.",oe="The password length should not be empty.",le="User successfully created.",se="Signed in successfully.",fe="Signed out successfully.",me="Data successfully saved.",de=[{title:"$",description:"usd"},{title:"\u20ac",description:"eur"}],pe=function(e,n){n({type:"ADD_ITEM_TO_CART",payload:e})},be=function(e,n){n({type:"CHANGE_AUTH_TYPE",payload:e})},ge=function(e,n){n({type:"CHANGE_STATUS_MESSAGE",payload:e})},Ee=z()((function(e){var n=e.pizzaService,t=Object(T.a)(e,["pizzaService"]),c=Object(a.useState)(null),i=Object(k.a)(c,2),o=i[0],l=i[1],s=Object(a.useState)(ee),f=Object(k.a)(s,2),m=f[0],p=f[1],b=Object(u.b)();Object(a.useEffect)((function(){var e=O.a.get("token");e&&e.length>0?v():(g(),console.error("logged out"))}),[]);var g=function(){var e=new Date;e=e.setDate(e.getDate()-1),e=new Date(e),O.a.set("token","",{expires:e}),l(null)},E=function(e){p(Q),n.request("/user/".concat(e)).then((function(e){var n=e.error,t=e.result;n?(p(Z),ge(n.errmsg,b)):(p(X),l(t))}))},v=function(){n.request("/token/verification").then((function(e){var n=e.error,t=e.result;n?(p(Z),ge(n.errmsg,b)):(p(X),E(t.id))}))},h={user:o,authStatus:m,getUserData:E,obtainToken:function(e,t){p(Q),n.request("/token/obtaining","POST",{email:e,password:t}).then((function(e){var n=e.error,t=e.result,a=e.status;n||a>=300?(p(Z),ge(ce,b)):(p(X),ge(se,b),E(t.id))}))},verifyToken:v,logout:g,register:function(e,t){p(Q),n.request("/user/registration","POST",{email:e,password:t}).then((function(e){var n=e.error;n?(p(Z),ge(n.errmsg,b)):(p(X),ge(le,b))}))}};return r.a.createElement(d,{value:h},t.children)})),ve=t(3),he=t(24),Oe=t(4),je=t(91),ye=t(90);function xe(){var e=Object(ve.a)(["\n  display:flex;\n  justify-content:center;\n"]);return xe=function(){return e},e}function we(){var e=Object(ve.a)(["\n  width: 5rem;\n  height: 5rem;\n  background-color: var(--primary);\n  margin: 0 auto;\n"]);return we=function(){return e},e}var Ce=Object(Oe.a)(ye.a)(we()),Se=Oe.a.div(xe()),ke=function(){return r.a.createElement(Se,null,r.a.createElement(Ce,{type:"grow"}))},Te=function(){return r.a.createElement(je.a,null," To see this page you need to sign in ")},ze=_()((function(e){var n=e.authContext,t=e.component,a=Object(T.a)(e,["authContext","component"]),c=n.user;return n.authStatus===Q?r.a.createElement(ke,null):r.a.createElement(he.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(Te,null)}}))}));function _e(){var e=Object(ve.a)(["\n  color: #fff;\n  opacity: .7;\n"]);return _e=function(){return e},e}function Pe(){var e=Object(ve.a)(["\n  background-color: #373535;\n  padding: 25px 0;\n  text-align: center;\n"]);return Pe=function(){return e},e}var De=Oe.a.div(Pe()),Ae=Oe.a.span(_e()),Ue=function(){var e=(new Date).getFullYear();return r.a.createElement(De,null,r.a.createElement(Ae,null,"Pacman Pizza \xa9 ",e))},Me=t(59),Ie=t.n(Me),Re=t(92);function Ne(){var e=Object(ve.a)(["\n  border-radius: 100px;\n  width: 100px;\n  font-size: 14px;\n  &:last-child{\n    margin-left: 0.5rem;\n  }\n"]);return Ne=function(){return e},e}var Fe=Object(Oe.a)(Re.a)(Ne()),qe=function(e){var n=e.handleSignUp,t=e.handleSignIn;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe,{outline:!0,color:"secondary",onClick:function(){return n("reg")}},"Sign up"),r.a.createElement(Fe,{outline:!0,color:"secondary",onClick:function(){return t("auth")}},"Sign in"))},He=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{to:"/cabinet"},r.a.createElement(Fe,{outline:!0,color:"secondary"},"Cabinet")))};function Le(){var e=Object(ve.a)(["\n  margin-left: -13px;\n"]);return Le=function(){return e},e}function Ge(){var e=Object(ve.a)(["\n  display:flex;\n  justify-content:space-between;\n  align-items:center;\n"]);return Ge=function(){return e},e}var Be=Oe.a.div(Ge()),Je=Oe.a.img(Le()),Ye=_()((function(e){var n=e.authContext.user,t=Object(u.b)();return r.a.createElement("div",null,r.a.createElement(je.a,null,r.a.createElement(Be,null,r.a.createElement(o.b,{to:"/"},r.a.createElement(Je,{src:Ie.a,alt:"Pacman Pizza"})),r.a.createElement("div",null,n?r.a.createElement(He,null):r.a.createElement(qe,{handleSignUp:function(e){return be(e,t)},handleSignIn:function(e){return be(e,t)}})))))}));function We(){var e=Object(ve.a)(["\n  margin-bottom: 20px;\n  flex: 1 0 auto;;\n"]);return We=function(){return e},e}var Ke=Oe.a.div(We()),Ve=function(e){return r.a.createElement(Ke,null,e.children)},$e=t(60),Qe=t.n($e);function Xe(){var e=Object(ve.a)(["\n  position: absolute;\n  top: -10px;\n  right: -8px;\n  border-radius: 100px;\n  width: 20px;\n  height: 20px;\n  background-color: var(--primary-darken);\n  color: #fff;\n  display:flex;\n  justify-content:center;\n  align-items:center;\n  font-size: 11px;\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(ve.a)(["\n  position: relative;\n"]);return Ze=function(){return e},e}function en(){var e=Object(ve.a)(["\n  width: 30px;\n  height: auto;\n  color: #fff;\n"]);return en=function(){return e},e}var nn=Oe.a.img(en()),tn=Oe.a.span(Ze()),an=Oe.a.span(Xe()),rn=function(e){var n=e.itemsCount,t=void 0===n?0:n;return r.a.createElement(tn,null,r.a.createElement(nn,{src:Qe.a,alt:"Cart"}),!!t&&r.a.createElement(an,null,t))},cn=t(61),un=t.n(cn);function on(){var e=Object(ve.a)(["\n  padding: 0;\n  position: relative;\n"]);return on=function(){return e},e}function ln(){var e=Object(ve.a)(["\n  position: absolute;\n  pointer-events: none;\n  top: -11px;\n  left: calc(-20px + ","px);\n  z-index: 15;\n  transition: left .75s, opacity .5s;\n  opacity: ",";\n"]);return ln=function(){return e},e}function sn(){var e=Object(ve.a)(["\n  color: #000;\n  transition: color .2s;\n  position: relative;\n  \n  &:hover{\n    text-decoration: none;\n    color: #FF6900;\n  }\n"]);return sn=function(){return e},e}function fn(){var e=Object(ve.a)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n  \n  &:first-child{\n    padding-left: 0;\n  }\n  \n  &:last-child{\n    padding-right: 0;\n  }\n"]);return fn=function(){return e},e}function mn(){var e=Object(ve.a)(["\n  display:flex;\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n"]);return mn=function(){return e},e}function dn(){var e=Object(ve.a)(["\n  position:sticky;\n  top: 0;\n  z-index: 10;\n  background-color: #fff;\n  border-bottom: 1px solid #e6e6e6;\n  margin-bottom: 20px;\n"]);return dn=function(){return e},e}function pn(){var e=Object(ve.a)(["\n  display:flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 0;\n"]);return pn=function(){return e},e}var bn=Oe.a.div(pn()),gn=Oe.a.div(dn()),En=Oe.a.ul(mn()),vn=Oe.a.li(fn()),hn=Object(Oe.a)(o.b)(sn()),On=Oe.a.img(ln(),(function(e){var n=e.hoveredOffset;return null===n?-55:n}),(function(e){return null===e.hoveredOffset?0:1})),jn=Object(Oe.a)(bn)(on()),yn=function(){var e=Object(a.useState)(null),n=Object(k.a)(e,2),t=n[0],c=n[1],i=Object(u.c)((function(e){return e.cart}));return r.a.createElement(gn,null,r.a.createElement(je.a,null,r.a.createElement(bn,null,r.a.createElement(jn,null,r.a.createElement(On,{src:un.a,alt:"Pacman Pizza",hoveredOffset:t}),r.a.createElement(En,null,V.map((function(e){var n=e.title,t=e.type;return r.a.createElement(vn,{key:n},r.a.createElement(hn,{to:"/".concat(t),onMouseEnter:function(e){return function(e){return c(e.target.offsetLeft)}(e)},onMouseLeave:function(){return c(null)}},n))})))),r.a.createElement(o.b,{to:"/cart"},r.a.createElement(rn,{itemsCount:i.length})))))},xn=t(93);function wn(){var e=Object(ve.a)(["\n  font-weight:600;\n  font-size: 20px;\n"]);return wn=function(){return e},e}function Cn(){var e=Object(ve.a)(["\n  text-align: center;\n  margin-bottom: 2.5rem;\n"]);return Cn=function(){return e},e}var Sn={PageHeading:Oe.a.h1(Cn()),CardTitle:Object(Oe.a)(xn.a)(wn())},kn=t(20),Tn=t(94),zn=t(62),_n=t.n(zn),Pn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.floor(e*Math.pow(10,n))/Math.pow(10,n)};function Dn(){var e=Object(ve.a)(["\n  color: rgb(115, 121, 140);\n  font-weight: 300;\n  font-size: 14px;\n"]);return Dn=function(){return e},e}function An(){var e=Object(ve.a)(["\n  padding: 0;\n  border: none;\n  background-color: transparent;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  outline: 0;\n  &:focus{\n    outline: 0;\n  }\n"]);return An=function(){return e},e}function Un(){var e=Object(ve.a)(["\n  margin-left: .5rem;\n  margin-right: .5rem;\n"]);return Un=function(){return e},e}function Mn(){var e=Object(ve.a)(["\n  display:flex;\n  align-items:center;\n  justify-content: center;\n"]);return Mn=function(){return e},e}function In(){var e=Object(ve.a)(["\n  font-size: 20px;\n  line-height: 1;\n  border-radius: 8px;\n  display:flex;\n  align-items:center;\n  justify-content:center;\n  height: 30px;\n  width: 30px;\n  padding: 0;\n"]);return In=function(){return e},e}function Rn(){var e=Object(ve.a)(["\n  display:block;\n  width: 100%;\n  height: auto;\n"]);return Rn=function(){return e},e}function Nn(){var e=Object(ve.a)(["\n  margin-right: 0;\n"]);return Nn=function(){return e},e}function Fn(){var e=Object(ve.a)(["\n  border-top: 1px solid #f1f2f5;\n  padding: 10px 0;\n  &:last-child{\n    border-bottom: 1px solid #f1f2f5;\n  }\n"]);return Fn=function(){return e},e}function qn(){var e=Object(ve.a)(["\n  display:flex;\n  align-items:center;\n  justify-content: space-between;\n  margin-right: -15px;\n  margin-left: -15px;\n"]);return qn=function(){return e},e}var Hn=Oe.a.div(qn()),Ln=Object(Oe.a)(Hn)(Fn()),Gn=Object(Oe.a)(Hn)(Nn()),Bn=Oe.a.img(Rn()),Jn=Object(Oe.a)(Re.a)(In()),Yn=Oe.a.div(Mn()),Wn=Oe.a.span(Un()),Kn=Oe.a.button(An()),Vn=Oe.a.p(Dn()),$n=function(e){var n=e.item,t=e.id,a=e.rate,c=n.title,i=n.image,o=n.price,l=n.count,s=n.ingredients,f=Object(u.b)(),m=o*l*a,d="../public/images/".concat(i);return r.a.createElement(Tn.a,{xs:12},r.a.createElement(Ln,null,r.a.createElement(Tn.a,{xs:2},r.a.createElement(Gn,null,r.a.createElement(Bn,{src:d,alt:c}))),r.a.createElement(Tn.a,{xs:10},r.a.createElement(Hn,null,r.a.createElement(Tn.a,{xs:6},r.a.createElement(Sn.CardTitle,null,c),r.a.createElement(Vn,null,s)),r.a.createElement(Tn.a,{xs:3},r.a.createElement(Yn,null,r.a.createElement(Jn,{outline:!0,color:"primary",onClick:function(){!function(e,n){n({type:"DECREASE_CART_ITEM_COUNT",payload:e})}(n,f)}},"\u2013"),r.a.createElement(Wn,null,l),r.a.createElement(Jn,{outline:!0,color:"primary",onClick:function(){pe(n,f)}},"+"))),r.a.createElement(Tn.a,{xs:1},r.a.createElement("div",null,Pn(m))),r.a.createElement(Kn,{onClick:function(){!function(e,n){n({type:"DELETE_ITEM_FROM_CART",payload:e})}(t,f)}},r.a.createElement(Bn,{src:_n.a,alt:"remove"}))))))};function Qn(){var e=Object(ve.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 30px;\n  font-size: 12px;\n"]);return Qn=function(){return e},e}function Xn(){var e=Object(ve.a)([""]);return Xn=function(){return e},e}function Zn(){var e=Object(ve.a)(["\n  color: rgb(115,121,140);\n  text-align: center;\n  font-size: 20px;\n"]);return Zn=function(){return e},e}function et(){var e=Object(ve.a)(["\n    margin-bottom: .3rem;\n    font-weight: 300;\n"]);return et=function(){return e},e}function nt(){var e=Object(ve.a)(["\n  font-size: 12px;\n"]);return nt=function(){return e},e}function tt(){var e=Object(ve.a)(["\n  &:active,\n  &:focus{\n    box-shadow: 0 0 0 0 transparent !important;\n    outline: none;\n  }\n"]);return tt=function(){return e},e}function at(){var e=Object(ve.a)([""]);return at=function(){return e},e}function rt(){var e=Object(ve.a)(["\n  display:flex;\n  justify-content: space-between;\n  align-items:center;\n"]);return rt=function(){return e},e}function ct(){var e=Object(ve.a)(["\n  width: 150px;\n"]);return ct=function(){return e},e}function it(){var e=Object(ve.a)(["\n  display: flex;\n  justify-content: space-around;\n"]);return it=function(){return e},e}function ut(){var e=Object(ve.a)(["\n  margin-bottom: 30px;\n"]);return ut=function(){return e},e}function ot(){var e=Object(ve.a)(["\n  max-width: 690px;\n  margin: 0 auto 100px;\n"]);return ot=function(){return e},e}function lt(){var e=Object(ve.a)(["\n  display:flex;\n  justify-content:flex-end;\n  align-items: center;\n  font-size: 25px;\n  font-weight: 500;\n"]);return lt=function(){return e},e}var st=Oe.a.div(lt()),ft=Oe.a.div(ot()),mt=Oe.a.div(ut()),dt=Oe.a.div(it()),pt=Object(Oe.a)(Re.a)(ct()),bt=Oe.a.div(rt()),gt=Object(Oe.a)(st)(at()),Et=Oe.a.select(tt()),vt=Oe.a.option(nt()),ht=Oe.a.div(et()),Ot=Oe.a.div(Zn()),jt=Oe.a.div(Xn()),yt=Oe.a.div(Qn()),xt=Object(kn.c)(z(),_())((function(e){var n=e.pizzaService,t=e.authContext.user,c=Object(a.useState)("usd"),i=Object(k.a)(c,2),l=i[0],s=i[1],f="usd"===l?1:1.09,m=Object(u.c)((function(e){return e.cart})),d=Object(u.b)(),p=m.reduce((function(e,n){return e+n.price*n.count}),0)*f;Object(a.useEffect)((function(){t&&s(t.currency)}),[t]);var b=m.map((function(e,n){return r.a.createElement($n,{key:e.title,item:e,id:n,rate:f})}));return r.a.createElement(je.a,null,r.a.createElement(ft,null,r.a.createElement(Sn.PageHeading,null,"Cart"),r.a.createElement(mt,null,m.length>0?b:r.a.createElement(Ot,null,r.a.createElement(ht,null,"Your cart is currently empty."),r.a.createElement(ht,null,"Taste our super ",r.a.createElement(o.b,{to:"/pizza"},"pizza")," before somebody did it before you!"))),m.length>0&&r.a.createElement(jt,null,r.a.createElement("div",null,r.a.createElement(bt,null,r.a.createElement(gt,null,r.a.createElement("span",{className:"mr-2"},"Currency:"),r.a.createElement(Et,{onChange:function(e){return s(e.target.value)}},de.map((function(e){var n=e.title,t=e.description;return r.a.createElement(vt,{selected:l===t,value:t,key:t},"".concat(n))})))),r.a.createElement(st,null,"Total: ",Pn(1.1*p))),r.a.createElement(yt,null,r.a.createElement("em",null,"10% added as a delivery cost"))),r.a.createElement("div",null,r.a.createElement(dt,null,r.a.createElement(o.b,{to:"/pizza"},r.a.createElement(pt,{outline:!0,color:"secondary"},"Back to menu")),r.a.createElement(pt,{color:"primary",onClick:function(){if(!t)return ge(te,d),!1;var e={total:p,cart:m,currency:l,userId:t.id,email:t.email,date:new Date};n.request("/order","POST",e).then((function(e){201===e.status?(d({type:"CLEAR_CART"}),ge(ae,d)):ge(re,d)}))}},"Order"))))))})),wt=t(63),Ct=t(95),St=t(96);function kt(){var e=Object(ve.a)(["\n  \n  li {\n    width: 12px;\n    height: 12px;\n    border-radius: 100px;\n    border-bottom: none;\n    border-top: none;\n    margin: 0 10px;\n    background-color: rgb(84, 76, 72);\n    \n    &.active{\n      background-color: rgb(197, 202, 206);\n    }\n  }\n"]);return kt=function(){return e},e}function Tt(){var e=Object(ve.a)(["\n  width: 95%;\n  border-radius: 15px;\n"]);return Tt=function(){return e},e}function zt(){var e=Object(ve.a)(["\n  text-align: center;\n"]);return zt=function(){return e},e}var _t=Object(Oe.a)(wt.a)(zt()),Pt=Oe.a.img(Tt()),Dt=Object(Oe.a)(Ct.a)(kt()),At=function(e){var n=e.items,t=e.settings,c=Object(a.useState)(0),i=Object(k.a)(c,2),u=i[0],o=i[1],l=Object(a.useState)(!1),s=Object(k.a)(l,2),f=s[0],m=s[1];return r.a.createElement(St.a,Object.assign({activeIndex:u,next:function(){if(!f){var e=u===n.length-1?0:u+1;o(e)}},previous:function(){if(!f){var e=0===u?n.length-1:u-1;o(e)}}},t),r.a.createElement(Dt,{items:n,activeIndex:u,onClickHandler:function(e){f||o(e)}}),n.map((function(e){return r.a.createElement(_t,{onExiting:function(){return m(!0)},onExited:function(){return m(!1)},key:e.src},r.a.createElement(Pt,{src:e.src,alt:e.altText}))})))},Ut=t(97);function Mt(){var e=Object(ve.a)(["\n  &:hover{\n    text-decoration: none;\n  }\n"]);return Mt=function(){return e},e}function It(){var e=Object(ve.a)(["\n  text-align: center;\n  margin-bottom: 20px;\n"]);return It=function(){return e},e}function Rt(){var e=Object(ve.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(50,50,50,.5);\n  opacity: 0;\n  z-index: 5;\n  transition: opacity .3s;\n"]);return Rt=function(){return e},e}function Nt(){var e=Object(ve.a)(["\n  position: absolute;\n  color: #fff;\n  font-weight: 500;\n  z-index: 6;\n  opacity: 0;\n  transition: opacity .3s;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  font-size: 48px;\n  display:flex;\n  justify-content:center;\n  align-items:center;\n"]);return Nt=function(){return e},e}function Ft(){var e=Object(ve.a)(["\n  position: relative;\n  padding: 20px;\n  border: 1px solid #e6e6e6;\n  border-radius: 15px;\n  overflow: hidden;\n  &:hover{\n    img{\n      transform: scale(1.2,1.2);\n    }\n    div{\n      opacity: 1;\n    }\n  }\n"]);return Ft=function(){return e},e}function qt(){var e=Object(ve.a)(["\n  display:block;\n  width: 100%;\n  height: auto;\n  margin: 0 auto;\n  transition: transform .3s;\n"]);return qt=function(){return e},e}var Ht=Oe.a.img(qt()),Lt=Oe.a.div(Ft()),Gt=Oe.a.div(Nt()),Bt=Oe.a.div(Rt()),Jt=Oe.a.h2(It()),Yt=Object(Oe.a)(o.b)(Mt()),Wt=function(){return r.a.createElement(je.a,null,r.a.createElement(Jt,null,"Menu"),r.a.createElement(Ut.a,null,V.map((function(e){var n=e.imgUrl,t=e.title,a=e.type;return r.a.createElement(Tn.a,{key:t,xs:6,md:4,xl:3,className:"mb-4 mb-sm-4"},r.a.createElement(Yt,{to:"/".concat(a)},r.a.createElement(Lt,null,r.a.createElement(Bt,null),r.a.createElement(Gt,null,t),r.a.createElement(Ht,{src:n,alt:t}))))}))))};function Kt(){var e=Object(ve.a)(["\n  margin-bottom: 60px;\n"]);return Kt=function(){return e},e}var Vt=Oe.a.div(Kt()),$t=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vt,null,r.a.createElement(At,{items:$,settings:{interval:5e3}})),r.a.createElement(Vt,null,r.a.createElement(Wt,null)))},Qt=t(102),Xt=t(98),Zt=t(99),ea=t(100),na=t(101);function ta(){var e=Object(ve.a)(["\n  font-size: 16px;\n  font-weight: 500;\n"]);return ta=function(){return e},e}function aa(){var e=Object(ve.a)(["\n  display:flex;\n  justify-content: space-between;\n  align-items:center;\n"]);return aa=function(){return e},e}function ra(){var e=Object(ve.a)(["\n  color: rgb(115, 121, 140);\n  font-weight: 300;\n  font-size: 14px;\n  // TODO count max height of a block\n  height: 100px;\n"]);return ra=function(){return e},e}function ca(){var e=Object(ve.a)(["\n  border: none;\n"]);return ca=function(){return e},e}var ia=Object(Oe.a)(Xt.a)(ca()),ua=Object(Oe.a)(Zt.a)(ra()),oa=Object(Oe.a)(Zt.a)(aa()),la=Object(Oe.a)(Zt.a)(ta()),sa=function(e){var n=e.item,t=n.image,a=n.title,c=n.ingredients,i=n.price,o=n.type,l=Object(u.b)(),s="../public/images/".concat(t);return r.a.createElement(ia,null,r.a.createElement(ea.a,{top:!0,width:"100%",src:s,alt:o}),r.a.createElement(na.a,null,r.a.createElement(Sn.CardTitle,null,a),r.a.createElement(ua,null,c),r.a.createElement(oa,{tag:"div"},r.a.createElement(la,{tag:"span"},"Price: $",i),r.a.createElement(Re.a,{outline:!0,color:"primary",onClick:function(){pe(n,l)}},"Add to cart"))))},fa=function(e){var n=e.items;return r.a.createElement(Qt.a,null,n.map((function(e){return r.a.createElement(Tn.a,{xs:12,sm:6,lg:4,xl:3,key:e.id},r.a.createElement(sa,{item:e}))})))};function ma(){var e=Object(ve.a)(["\n    margin-bottom: .3rem;\n    font-weight: 300;\n"]);return ma=function(){return e},e}function da(){var e=Object(ve.a)(["\n  width: 100%;\n  height: auto;\n  display:block;\n  margin: 0 auto;\n"]);return da=function(){return e},e}function pa(){var e=Object(ve.a)(["\n  color: rgb(115,121,140);\n  text-align: center;\n  font-size: 20px;\n"]);return pa=function(){return e},e}var ba=Oe.a.div(pa()),ga=Oe.a.img(da()),Ea=Oe.a.div(ma()),va=function(e){var n=e.product,t=n.imgUrl,a=n.title;return r.a.createElement(ba,null,r.a.createElement("div",null,r.a.createElement(Ea,null,"We are creating the menu for this section."),r.a.createElement(Ea,null,"But now you should taste our super ",r.a.createElement(o.b,{to:"/pizza"},"pizza"),"!"),r.a.createElement(Ea,null,"Or you can go to ",r.a.createElement(o.b,{to:"/"},"homepage")," and find the best promo.")),r.a.createElement(Tn.a,{xs:8,md:6,xl:3,lg:4,className:"mx-auto"},r.a.createElement(ga,{src:t,alt:a})))},ha=z()((function(e){var n=e.product,t=e.pizzaService,c=n.title,i=n.type,o=Object(a.useState)(null),l=Object(k.a)(o,2),s=l[0],f=l[1],m=Object(u.c)((function(e){return e.products.filter((function(e){return e.type===i}))})),d=Object(u.b)();return Object(a.useEffect)((function(){m.length>0?f(m):t.request("/products/".concat(i)).then((function(e){if(e){var n=function(e){return e.map((function(e){return{id:e._id,image:e.image,ingredients:e.ingredients,price:e.price,title:e.title,type:e.type}}))}(e.result);f(n),function(e,n){n({type:"PRODUCTS_LOADED",payload:e})}(n,d)}else console.log("Data receiving error")}))}),[i,t,d]),s?r.a.createElement(je.a,null,r.a.createElement(Sn.PageHeading,null,c),s.length?r.a.createElement(fa,{items:s}):r.a.createElement(va,{product:n})):r.a.createElement(ke,null)})),Oa=function(){return r.a.createElement("div",null,"Sorry, noting here")},ja=t(103),ya=t(104);function xa(){var e=Object(ve.a)(["\n  display:flex;\n  justify-content: space-between;\n"]);return xa=function(){return e},e}function wa(){var e=Object(ve.a)(["\n  margin-bottom: 5px;\n  \n  &:last-child{\n    margin-bottom: 0;\n  }\n"]);return wa=function(){return e},e}function Ca(){var e=Object(ve.a)(["\n  margin-bottom: 20px;\n"]);return Ca=function(){return e},e}function Sa(){var e=Object(ve.a)(["\n  padding: 0.5rem 0.75rem;\n  font-size: 14px;\n"]);return Sa=function(){return e},e}var ka=Object(Oe.a)(ja.a)(Sa()),Ta=Object(Oe.a)(ya.a)(Ca()),za=Oe.a.div(wa()),_a=(Object(Oe.a)(za)(xa()),z()((function(e){var n=e.pizzaService,t=e.user,c=Object(a.useState)([]),i=Object(k.a)(c,2),u=i[0],o=i[1];if(Object(a.useEffect)((function(){n.request("/orders/".concat(t.id)).then((function(e){return o(e.result)}))}),[]),!u)return r.a.createElement(ke,null);var l=u.map((function(e){var n=e.products,t=e.total,a=e.date,c=e.currency,i=de.findIndex((function(e){return e.description===c}));return r.a.createElement(ka,{key:a},r.a.createElement(za,null,r.a.createElement("strong",null,"Date:")," ",function(e){var n=function(e){return e<10?"0"+e:e},t=new Date(e),a=t.getDay(),r=t.getMonth(),c=t.getFullYear();return"".concat(n(a),"/").concat(n(r+1),"/").concat(c)}(a)),r.a.createElement(za,null,r.a.createElement("strong",null,"Details:")," ",n),r.a.createElement(za,null,r.a.createElement("strong",null,"Cost:")," ","".concat(Pn(t)).concat(de[i].title)))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Orders"),r.a.createElement(Ta,null,u.length>0?l:r.a.createElement("div",null,"No orders found")))}))),Pa=t(14),Da=t(105),Aa=t(106),Ua=t(107),Ma=t(108),Ia=t(64),Ra=t.n(Ia);function Na(){var e=Object(ve.a)(["\n  display:flex;\n"]);return Na=function(){return e},e}function Fa(){var e=Object(ve.a)(["\n  border-radius: 0 0.25rem 0.25rem 0;\n  margin-left: -1px;\n  display: ",";\n"]);return Fa=function(){return e},e}function qa(){var e=Object(ve.a)(["\n  border-radius: ",";\n"]);return qa=function(){return e},e}function Ha(){var e=Object(ve.a)(["\n  border-radius: ",";\n"]);return Ha=function(){return e},e}function La(){var e=Object(ve.a)(["\n  border-radius: ",";\n"]);return La=function(){return e},e}var Ga=Object(Oe.a)(Da.a)(La(),(function(e){return"true"===e.changed?"0.25rem 0 0 0.25rem":"0.25rem"})),Ba=Object(Oe.a)(Ra.a)(Ha(),(function(e){return"true"===e.changed?"0.25rem 0 0 0.25rem":"0.25rem"})),Ja=Object(Oe.a)(Da.a)(qa(),(function(e){return"true"===e.changed?"0.25rem 0 0 0.25rem":"0.25rem"})),Ya=Object(Oe.a)(Re.a)(Fa(),(function(e){return"true"===e.visible?"inline-block":"none"})),Wa=Oe.a.div(Na()),Ka=z()((function(e){var n=e.user,t=e.getUserData,c=e.pizzaService,i=Object(a.useState)(n.address),o=Object(k.a)(i,2),l=o[0],s=o[1],f=Object(a.useState)(n.phone),m=Object(k.a)(f,2),d=m[0],p=m[1],b=Object(a.useState)(n.currency),g=Object(k.a)(b,2),E=g[0],v=g[1],h=Object(u.b)();Object(a.useEffect)((function(){s(n.address),p(n.phone),v(n.currency)}),[n]);var O=16===d.length&&d!==n.phone,j=l!==n.address,y=E!==n.currency,x=function(){var e=Object(Pa.a)({},n,{phone:d,address:l,currency:E});c.request("/user/update","POST",e).then((function(e){200===e.status&&(ge(me,h),t(n.id),O=!1,j=!1,y=!1),console.log(e)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Personal information"),r.a.createElement(Aa.a,null,r.a.createElement(Ua.a,null,r.a.createElement(Ma.a,{for:"address"},"Address"),r.a.createElement(Wa,null,r.a.createElement(Ga,{type:"text",name:"address",id:"address",placeholder:"Enter your address",value:l,onChange:function(e){return s(e.target.value)},changed:j.toString()}),r.a.createElement(Ya,{color:"primary",visible:j.toString(),onClick:x},"Save"))),r.a.createElement(Ua.a,null,r.a.createElement(Ma.a,{for:"phone"},"Phone"),r.a.createElement(Wa,null,r.a.createElement(Ba,{className:"form-control",type:"text",name:"phone",id:"phone",placeholder:"Enter your phone",mask:"+7-999-999-99-99",maskChar:"_",value:d,onChange:function(e){var n=e.target.value.replace(/_/gi,"");p(n)},changed:O.toString()}),r.a.createElement(Ya,{color:"primary",visible:O.toString(),onClick:x},"Save"))),r.a.createElement(Ua.a,null,r.a.createElement(Ma.a,{for:"currency"},"Default currency"),r.a.createElement(Wa,null,r.a.createElement(Ja,{type:"select",name:"currency",id:"currency",changed:y.toString(),value:E,onChange:function(e){return v(e.target.value)}},de.map((function(e){var n=e.title,t=e.description;return r.a.createElement("option",{value:t,key:t},"".concat(n))}))),r.a.createElement(Ya,{color:"primary",visible:y.toString(),onClick:x},"Save")))))})),Va=Object(kn.c)(_(),z())((function(e){var n=e.authContext,t=n.user,a=n.logout,c=n.getUserData,i=Object(u.b)();return r.a.createElement(je.a,null,r.a.createElement(Ut.a,null,r.a.createElement(Tn.a,null,r.a.createElement(Ka,{user:t,getUserData:c}),r.a.createElement(o.b,{to:"/"},r.a.createElement(Re.a,{color:"primary",outline:!0,onClick:function(){a(),ge(fe,i)}},"Sign out"))),r.a.createElement(Tn.a,null,r.a.createElement(_a,{user:t}))))})),$a=t(116),Qa=t(109),Xa=t(110),Za=t(111),er=function(){var e=Object(u.c)((function(e){return e.statusMessage})),n=Object(u.b)(),t=function(){return ge(null,n)};return r.a.createElement($a.a,{isOpen:!!e,toggle:t},r.a.createElement(Qa.a,{toggle:t},"Notification"),r.a.createElement(Xa.a,null,e),r.a.createElement(Za.a,null,r.a.createElement(Re.a,{color:"primary",onClick:t},"OK")))},nr=t(30),tr=t(115),ar=t(112),rr=t(113),cr=t(114);function ir(){var e=Object(ve.a)(["\n  \n"]);return ir=function(){return e},e}var ur=Oe.a.div(ir()),or=function(e){var n=e.activeTab,t=e.children,a=e.handleChangeAuthType,c=e.tabLabels;return r.a.createElement("div",null,r.a.createElement(ar.a,{tabs:!0},c.map((function(e,t){return r.a.createElement(rr.a,{key:e.label},r.a.createElement(cr.a,{className:n===t?"active":"",onClick:function(){return n=e.type,a(n);var n}},e.label))}))),r.a.createElement(ur,null,t))};function lr(){var e=Object(ve.a)(["\n  \n"]);return lr=function(){return e},e}Oe.a.div(lr());var sr=function(e){var n=e.handleChange,t=e.submitPasswordVisible;return r.a.createElement("div",null,r.a.createElement(Aa.a,null,r.a.createElement(Ua.a,null,r.a.createElement(Ma.a,{for:"email"},"E-mail"),r.a.createElement(Da.a,{required:!0,type:"email",name:"email",id:"email",placeholder:"Enter email",onChange:n})),r.a.createElement(Ua.a,null,r.a.createElement(Ma.a,{for:"password"},"Password"),r.a.createElement(Da.a,{required:!0,type:"password",name:"password",id:"password",placeholder:"Enter password",onChange:n})),t&&r.a.createElement(Ua.a,null,r.a.createElement(Ma.a,{for:"confirmPassword"},"Password"),r.a.createElement(Da.a,{required:!0,type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm password",onChange:n}))))};function fr(){var e=Object(ve.a)(["\n  padding: 0.25rem 0.75rem;\n  font-size: 12px;\n"]);return fr=function(){return e},e}var mr=Object(Oe.a)(tr.a)(fr()),dr=_()((function(e){var n=e.authContext,t=Object(u.b)(),c=n.authMsg,i=Object(a.useState)({email:"",password:"",confirmPassword:""}),o=Object(k.a)(i,2),l=o[0],s=o[1],f=Object(a.useState)(""),m=Object(k.a)(f,2),d=m[0],p=m[1],b=Object(u.c)((function(e){return e.authType})),g=ne.findIndex((function(e){return e.type===b})),E=function(){return v(null,t)},v=function(e){return be(e,t)},h=c===Z||c===Q;return r.a.createElement("div",null,r.a.createElement($a.a,{isOpen:null!==b,toggle:E},r.a.createElement(Qa.a,{toggle:E},"Authentication"),r.a.createElement(Xa.a,null,r.a.createElement(or,{authType:b,activeTab:g,tabLabels:ne,handleChangeAuthType:v},r.a.createElement(sr,{handleChange:function(e){var n=e.target,t=n.name,a=n.value;s(Object(Pa.a)({},l,Object(nr.a)({},t,a)))},submitPasswordVisible:"reg"===b})),d&&r.a.createElement(mr,{color:"danger"},d),h&&r.a.createElement(mr,{color:c===Q?"light":"danger"},c)),r.a.createElement(Za.a,null,r.a.createElement(Re.a,{outline:!0,color:"secondary",onClick:E},"Cancel"),r.a.createElement(Re.a,{color:"primary",onClick:function(){var e=l.email,t=l.password,a=l.confirmPassword;return!!function(e){var n=e.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i);return n||p("Email is not correct."),n}(e)&&(!!function(e,n){var t=!0;return 0===e.length&&(p(oe),t=!1),"reg"===b&&e.length<4&&(p(ue),t=!1),"reg"===b&&e!==n&&(p(ie),t=!1),t}(t,a)&&(p(null),"reg"===b?n.register(e,t):n.obtainToken(e,t),void v(null)))}},"Submit"))))}));function pr(){var e=Object(ve.a)(["\n  display:flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  height: 100%;\n  min-height: 100vh;\n"]);return pr=function(){return e},e}var br=Oe.a.div(pr()),gr=function(){var e=Object(u.b)(),n=O.a.get("cart"),t=n&&JSON.parse(n),c=O.a.get("currency");return Object(a.useEffect)((function(){t&&e({type:"UPDATE_DATA_FROM_COOKIES",payload:{cart:t,currency:c}})})),r.a.createElement(br,null,r.a.createElement(Ye,null),r.a.createElement(yn,null),r.a.createElement(Ve,null,r.a.createElement(he.d,null,r.a.createElement(he.b,{path:"/",exact:!0,render:function(){return r.a.createElement($t,null)}}),r.a.createElement(he.b,{path:"/cart",render:function(){return r.a.createElement(xt,null)}}),V.map((function(e){return r.a.createElement(he.b,{key:e.title,path:"/".concat(e.type),exact:!0,render:function(){return r.a.createElement(ha,{product:e})}})})),r.a.createElement(ze,{path:"/cabinet",component:Va}),r.a.createElement(he.b,{path:"/page-not-found",render:function(){return r.a.createElement(Oa,null)}}),r.a.createElement(he.b,{path:"*"},r.a.createElement(he.a,{to:"/page-not-found"})))),r.a.createElement(dr,null),r.a.createElement(er,null),r.a.createElement(Ue,null))},Er=t(22),vr=function(e,n,t){var a=e.findIndex((function(e){return e.title===n.title}));return function(e,n,t,a){if(-1===t)return[].concat(Object(Er.a)(e),[Object(Pa.a)({},n,{count:1})]);var r=e[t];return[].concat(Object(Er.a)(e.slice(0,t)),[Object(Pa.a)({},r,{count:r.count>1?r.count+a:-1===a?r.count:r.count+a})],Object(Er.a)(e.slice(t+1)))}(e,n,a,t)},hr={cart:[],products:[],authType:null,statusMessage:null},Or=Object(kn.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr,n=arguments.length>1?arguments[1]:void 0,t=e.cart,a=e.products,r=n.type,c=n.payload;switch(r){case"CHANGE_STATUS_MESSAGE":return Object(Pa.a)({},e,{statusMessage:c});case"CHANGE_AUTH_TYPE":return Object(Pa.a)({},e,{authType:c});case"PRODUCTS_LOADED":return Object(Pa.a)({},e,{products:[].concat(Object(Er.a)(a),Object(Er.a)(c))});case"UPDATE_DATA_FROM_COOKIES":return Object(Pa.a)({},e,{cart:c.cart});case"ADD_ITEM_TO_CART":return Object(Pa.a)({},e,{cart:vr(t,c,1)});case"DECREASE_CART_ITEM_COUNT":return Object(Pa.a)({},e,{cart:vr(t,c,-1)});case"DELETE_ITEM_FROM_CART":return Object(Pa.a)({},e,{cart:[].concat(Object(Er.a)(t.slice(0,c)),Object(Er.a)(t.slice(c+1)))});case"CLEAR_CART":return Object(Pa.a)({},e,{cart:[]});default:return e}}),Object(kn.a)((function(){return function(e){return function(n){return console.warn(n.type),e(n)}}})));Or.subscribe((function(){var e=Or.getState().cart;O.a.set("cart",JSON.stringify(e))}));t(88);var jr=new function e(){var n=this;Object(v.a)(this,e),this._apiBase="http://localhost:3000"===j?"http://localhost:9000/api/v1":"/api/v1",this.request=function(){var e=Object(E.a)(g.a.mark((function e(t){var a,r,c,i,u,o=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"GET",r=o.length>2&&void 0!==o[2]?o[2]:null,c={},r&&(c["Content-Type"]="application/json",i=JSON.stringify(r)),e.next=6,fetch(n._apiBase+t,{method:a,headers:c,body:i});case 6:return u=e.sent,e.next=9,u.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};i.a.render(r.a.createElement(u.a,{store:Or},r.a.createElement(s,{value:jr},r.a.createElement(o.a,null,r.a.createElement(S,null,r.a.createElement(Ee,null,r.a.createElement(gr,null)))))),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.6249e2b2.chunk.js.map